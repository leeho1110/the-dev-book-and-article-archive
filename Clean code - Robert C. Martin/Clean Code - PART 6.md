# Clean Code - Robert C. Martin : PART 6

### PART 6 : 객체와 자료구조

1. 자료 추상화
    1. 자료를 세세하게 공개하기보다는 추상적인 개념으로 표현하는 편이 좋다.
2. 자료/객체 비대칭
    1. 객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉬우며, 절차적인 코드에서 어려운 변경은 객체 지향 코드에서 쉽다.
        1. 절차적인 도형 (절차 지향), 다형적인 도형 (객체 지향) 의 클래스를 구현한 코드들을 예시로 작성되어 있다. 절차 지향과 객체 지향이 어떤 차이점이 있는지 많은 도움이 되는 코드다. 120p ~ 121p
3. 디미터 법칙
    1. 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다. 객체는 자료 (멤버 필드)를 숨기고 함수를 공개함으로써 조회 함수로 내부 구조를 조회할 수 없게 금지한다.
    2. "클래스 C의 메소드 f는 아래와 같은 객체의 메서드만 호출해야 한다"
        1. 클래스 C
        2. f가 생성한 객체
        3. f 인수로 넘어온 객체
        4. C 인스턴스 변수에 저장된 객체

        ```java
        String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
        ```

        위 코드는 디미터 법칙을 위반하는 코드이다. 각 메소드가 반환하는 객체의 메소드를 호출하는 부분을 반복하고 있기 때문이다.

        `getOption()` 가 반환한 객체에서 `getScratchDir()` 호출 → `getScratchDir()` 가 호출한 객체에서 `getAbsolutePath()` 호출한다.

        위와 같은 코드를 **Train Wreck (기차 충돌)** 이라고 부른다.  위와 같은 코드는 조잡하고, 가독성이 떨어지기 때문에 각각을 나누어 작성하는 편이 좋다.
4. 자료 전달 객체
    1. 전형적으로 공개 변수만 있고 함수가 없는 클래스의 형태를 띈다. 때로는 ```Data Transfer Object, DTO``` 라고 한다.
    2. 데이터베이스와 통신하거나 소켓에서 받은 메시지의 구문을 분석할 때 유용하다.
   
5. 결론
    1. 객체는 동작을 공개하고 자료를 숨긴다.
    2. 시스템을 구현할 때에 새로운 자료 타입을 추가하는 유연성이 필요하다면 객체가 더 적합하고, 새로운 동작을 추가하는 유연성이 필요하면 자료구조와 절차적인 코드가 더 적합하다.
